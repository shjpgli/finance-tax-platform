<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.abc12366.bangbang.mapper.db2.CurriculumBrowserWatchRoMapper">

    <select id="selectCntToday" resultType="java.lang.Integer">
        select count(1) from bb_curriculum_browser_watch WHERE date = CURDATE()
    </select>


    <select id="selectTodayNum" resultType="com.abc12366.bangbang.model.curriculum.CurriculumBrowserWatch">
        select id, browseNum, watchNum, date from bb_curriculum_browser_watch WHERE date = CURDATE()
    </select>


    <select id="selectCurrentMonthNum" resultType="com.abc12366.bangbang.model.curriculum.CurriculumBrowserWatch">
        SELECT SUM(browseNum) AS browseNum, SUM(watchNum) AS watchNum
        FROM bb_curriculum_browser_watch WHERE
        DATE_FORMAT(DATE,'%Y-%m')=DATE_FORMAT(NOW(),'%Y-%m')
    </select>
</mapper>