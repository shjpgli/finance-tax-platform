<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.abc12366.uc.mapper.db2.PointsLogRoMapper">

    <select id="selectList" resultType="PointsLogBO" parameterType="Map">
        select uul.id,uul.userId,uul.ruleId,uur.name,uur.code,uur.type,uul.income,uul.outgo,uul.usablePoints,uul.createTime
        from uc_upoints_log uul, uc_upoints_rule uur
        <where>
            uul.ruleId = uur.id
            <if test="name!=null">and name=#{name}</if>
            <if test="code!=null">and code=#{code}</if>
            <if test="type!=null">and type=#{type}</if>
            <if test="userId!=null">and userId=#{userId}</if>
        </where>
        ORDER BY createTime DESC
    </select>

</mapper>